!function(){var t=function(){var e=this,s=document.querySelector(".clock__timer");return this.data={breakLength:Number(document.querySelector(".settings__length--break").textContent)||5,sessionLength:Number(document.querySelector(".settings__length--session").textContent)||25,breakSeconds:60,sessionMinutes:"",breakMinutes:"",sessionSeconds:60,timerRunning:!1,currentTask:"Session"},e.data.sessionMinutes=e.data.sessionLength,e.data.breakMinutes=e.data.breakLength,this.timer="",this.displayTimer=function(t,s){var n=document.querySelector(".clock__turn"),a=document.querySelector(".clock__background"),i=document.querySelector(".app");return n.textContent!==e.data.currentTask&&(n.textContent="Session"===n.textContent?"Break":"Session"),a.style.height=function(){return 100-100*(60*(t-1)+s)/(60*e.data[e.data.currentTask.toLowerCase()+"Length"])+"%"}(),i.classList.toggle("app--session","Session"===e.data.currentTask),i.classList.toggle("app--break","Break"===e.data.currentTask),t>0?s>9?t-1+":"+s:t-1+":0"+s:s>9?t+":"+s:t+":0"+s},this.clock=function(){"Session"===e.data.currentTask?e.data.sessionMinutes>0?(e.data.sessionSeconds>0?e.data.sessionSeconds--:(e.data.sessionMinutes-=1,0!==e.data.sessionMinutes&&(e.data.sessionSeconds=59)),s.textContent=e.displayTimer(e.data.sessionMinutes,e.data.sessionSeconds)):(s.textContent=e.displayTimer(e.data.sessionMinutes,e.data.sessionSeconds),e.data.currentTask="Break",e.data.sessionMinutes=e.data.sessionLength,e.data.sessionSeconds=60):e.data.breakMinutes>0?(e.data.breakSeconds>0?e.data.breakSeconds--:(e.data.breakMinutes-=1,0!==e.data.breakMinutes&&(e.data.breakSeconds=59)),s.textContent=e.displayTimer(e.data.breakMinutes,e.data.breakSeconds)):(s.textContent=e.displayTimer(e.data.breakMinutes,e.data.breakSeconds),e.data.currentTask="Session",e.data.breakMinutes=e.data.breakLength,e.data.breakSeconds=60)},this.startTimer=function(){e.timer=setInterval(e.clock,1e3),e.data.timerRunning=!0},this.stopTimer=function(){clearInterval(e.timer),e.data.timerRunning=!1},this.toggleTimer=function(){!0===e.data.timerRunning?e.stopTimer():e.startTimer()},this.resetTimerSettings=function(){e.data.sessionSeconds=60,e.data.breakSeconds=60,e.data.breakMinutes=e.data.breakLength,e.data.sessionMinutes=e.data.sessionLength,e.data.currentTask="Session"},this.changeSettings=function(s,n){if(!e.data.timerRunning){var a=document.querySelector(".settings__length--"+n),i=n+"Length",r=e.data[i];s.classList.contains("settings__controll--decrase")&&r>5&&(t.data[i]-=5,a.textContent=t.data[i]),s.classList.contains("settings__controll--incrase")&&r<60&&(t.data[i]+=5,a.textContent=t.data[i]),e.resetTimerSettings()}},this}(),e=document.querySelector(".settings__session"),s=document.querySelector(".settings__break");e.addEventListener("click",function(e){var s=e.target;t.changeSettings(s,"session")}),s.addEventListener("click",function(e){var s=e.target;t.changeSettings(s,"break")}),document.querySelector(".clock").addEventListener("click",t.toggleTimer)}();